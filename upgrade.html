<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Premium Subscription ‚Ä¢ Rakspark Academy</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<style>
:root{
  --navy:#001F3F;
  --gold:#FFD700;
  --green:#25D366;
  --red:#e74c3c;
  --sky:#87CEEB;
  --shadow:rgba(0,31,63,.25);
}

*{margin:0;padding:0;box-sizing:border-box}
body{
  font-family:'Poppins',sans-serif;
  background:linear-gradient(135deg,var(--sky),#5dade2);
  min-height:100vh;
  padding:20px;
}

/* WRAPPER */
.wrapper{
  width:100%;
  max-width:900px;
  margin:auto;
  background:#fff;
  border-radius:35px;
  box-shadow:0 40px 120px var(--shadow);
  overflow:hidden;
  animation:fadeUp .7s ease;
}

@keyframes fadeUp{
  from{opacity:0;transform:translateY(20px)}
  to{opacity:1;transform:translateY(0)}
}

/* HEADER */
.header{
  background:linear-gradient(135deg,var(--navy),#002e5f);
  color:#fff;
  padding:60px 25px;
  text-align:center;
}
.header h1{font-size:2.6rem;font-weight:800}
.header p{font-size:1.3rem;margin-top:10px;opacity:.9}

/* BODY */
.body{padding:35px 25px}

/* SECTION */
.section{
  background:#f9fbff;
  border-radius:28px;
  padding:30px;
  margin-bottom:30px;
  box-shadow:0 12px 35px rgba(0,0,0,.08);
  animation:slideIn .6s ease both;
}

@keyframes slideIn{
  from{opacity:0;transform:translateY(20px)}
  to{opacity:1;transform:translateY(0)}
}

.section h3{
  font-size:1.8rem;
  color:var(--navy);
  margin-bottom:20px;
}

/* BENEFITS */
.benefits{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:18px;
}
.benefit-card{
  background:#fff;
  border-radius:22px;
  padding:25px;
  display:flex;
  gap:16px;
  box-shadow:0 8px 25px rgba(0,0,0,.06);
}
.benefit-card i{
  font-size:2.2rem;
  color:var(--gold);
}
.benefit-card h4{
  font-size:1.25rem;
  margin-bottom:6px;
}
.benefit-card p{
  font-size:1.1rem;
  line-height:1.7;
  color:#444;
}

/* PAYMENT */
.payment-box{
  background:#fff;
  border:3px dashed var(--navy);
  border-radius:25px;
  padding:30px;
}
.pay-row{
  display:flex;
  flex-wrap:wrap;
  gap:10px;
  align-items:center;
  justify-content:space-between;
  margin:18px 0;
  font-size:1.25rem;
  font-weight:700;
}
.copy{
  background:var(--gold);
  border:none;
  padding:10px 22px;
  border-radius:30px;
  font-size:1rem;
  font-weight:800;
  cursor:pointer;
}

/* CONFIRMATION (RED) */
.alert{
  background:linear-gradient(135deg,#ff6b6b,#e74c3c);
  color:#fff;
  border-radius:28px;
  padding:35px;
  font-size:1.3rem;
  line-height:1.8;
  font-weight:600;
}

/* COUNTDOWN */
.timer{
  background:linear-gradient(135deg,#0a3d62,#1e90ff);
  color:#fff;
  padding:35px;
  border-radius:30px;
  text-align:center;
  margin-bottom:30px;
  display:none;
}
.timer h2{font-size:2.2rem;margin-bottom:8px}
.timer span{font-size:1.5rem;font-weight:800}

/* WHATSAPP */
.whatsapp{
  width:100%;
  padding:26px;
  border-radius:55px;
  border:none;
  background:var(--green);
  color:#fff;
  font-size:1.6rem;
  font-weight:800;
  cursor:pointer;
  display:flex;
  justify-content:center;
  align-items:center;
  gap:14px;
  animation:pulse 2s infinite;
}
@keyframes pulse{
  0%{box-shadow:0 0 0 0 rgba(37,211,102,.6)}
  70%{box-shadow:0 0 0 26px rgba(37,211,102,0)}
  100%{box-shadow:0 0 0 0 rgba(37,211,102,0)}
}

.back{text-align:center;margin-top:30px}
.back a{font-weight:700;color:var(--navy);text-decoration:none}

/* MOBILE */
@media(max-width:600px){
  .header h1{font-size:2.2rem}
  .header p{font-size:1.15rem}
  .pay-row{font-size:1.15rem}
}
  .price-card {
  display:inline-block;
  background: linear-gradient(135deg,#001F3F,#002e5f);
  color: #fff;
  font-size: 2.2rem;
  font-weight: 800;
  padding: 25px 40px;
  border-radius: 35px;
  margin-top: 15px;
  box-shadow: 0 15px 50px rgba(0,0,0,0.2);
}

.price-card .old-price {
  text-decoration: line-through;
  font-size:1.5rem;
  margin-right:15px;
  opacity:0.7;
}

.price-card .new-price {
  color: #FFD700;
  font-size:2.4rem;
}
</style>
</head>

<body>

<div class="wrapper">

  <div class="header">
    <h1>Premium Subscription</h1>
    <p>Official Activation & Verification Portal</p>
  </div>

  <div class="body">

    <!-- COUNTDOWN -->
    <div id="timerBox" class="timer">
      <h2>Premium Access Active</h2>
      <span id="timerText">Loading‚Ä¶</span>
    </div>

 <!-- SUBSCRIPTION PRICE -->
<div class="section" style="text-align:center;">
  <h3>Monthly Subscription</h3>
  <div class="price-card">
    <span class="old-price">‚Ç¶5000</span>
    <span class="new-price">‚Ç¶3000</span>
  </div>
</div>   
    
<!-- BENEFITS -->
<div class="section">
  <h3>Premium Benefits</h3>
  <div class="benefits">
    <div class="benefit-card">
      <i class="fas fa-book"></i>
      <div>
        <h4>All Subjects (2020‚Äì2025)</h4>
        <p>Real JAMB past questions fully covered.</p>
      </div>
    </div>
    <div class="benefit-card">
      <i class="fas fa-stopwatch"></i>
      <div>
        <h4>CBT Exam Mode</h4>
        <p>Timed exams with reshuffled questions for real exam practice.</p>
      </div>
    </div>
    <div class="benefit-card">
      <i class="fas fa-brain"></i>
      <div>
        <h4>AI Explanations</h4>
        <p>Smart, clear explanations for faster understanding.</p>
      </div>
    </div>
    <div class="benefit-card">
      <i class="fas fa-video"></i>
      <div>
        <h4>Live & Recorded Classes</h4>
        <p>Revision, tips, and exam strategies from expert tutors.</p>
      </div>
    </div>
    <div class="benefit-card">
      <i class="fas fa-chart-line"></i>
      <div>
        <h4>Performance Tracking</h4>
        <p>Monitor your scores and progress over time.</p>
      </div>
    </div>
    <div class="benefit-card">
      <i class="fas fa-comments"></i>
      <div>
        <h4>Dedicated Support</h4>
        <p>Get help from tutors whenever you need guidance.</p>
      </div>
    </div>
    <div class="benefit-card">
      <i class="fas fa-certificate"></i>
      <div>
        <h4>Completion Certificates</h4>
        <p>Receive certificates to validate your learning milestones.</p>
      </div>
    </div>
    <div class="benefit-card">
      <i class="fas fa-gift"></i>
      <div>
        <h4>Exclusive Resources</h4>
        <p>Access extra study materials and bonus content.</p>
      </div>
    </div>
  </div>
</div>
    <!-- PAYMENT -->
<div class="section">
  <h3>Payment Details</h3>
  <div class="payment-box">
    <div class="pay-row"><span>Bank:</span> <strong>OPAY</strong></div>
    <div class="pay-row">
      <span>Account Name:</span>
      <strong>TOHEEB IYANDA ADELODUN</strong>
      <button class="copy" data-text="TOHEEB IYANDA ADELODUN">Copy</button>
    </div>
    <div class="pay-row">
      <span>Account Number:</span>
      <strong>9040009663</strong>
      <button class="copy" data-text="9040009663">Copy</button>
    </div>
  </div>
</div>

    <!-- CONFIRMATION -->
    <div class="alert">
      ‚ö†Ô∏è <strong>IMPORTANT NOTICE</strong><br><br>
      After making payment, you MUST send your payment proof via WhatsApp.
      Once your payment is verified, your account will be upgraded automatically
      and your premium countdown will start immediately.
    </div>

    <br>

    <button class="whatsapp" onclick="sendWhatsApp()">
      <i class="fab fa-whatsapp"></i> Send Payment Proof
    </button>

    <div class="back">
      <a href="dashboard.html">‚Üê Back to Dashboard</a>
    </div>

  </div>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-app.js";
import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-auth.js";
import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-firestore.js";

initializeApp({
  apiKey: "AIzaSyDTDWqG_WAXZO7O6yAxV5lOHUkHZp-wwQk",
  authDomain: "rackspark.firebaseapp.com",
  projectId: "rackspark",
  storageBucket: "rackspark.firebasestorage.app",
  messagingSenderId: "125488977166",
  appId: "1:125488977166:web:b519b6871df21662c0f35f"
});

const auth=getAuth();
const db=getFirestore();

let userName="User";
const timerBox=document.getElementById("timerBox");
const timerText=document.getElementById("timerText");

onAuthStateChanged(auth,async user=>{
  if(!user) return location.href="login.html";
  userName=user.displayName||user.email;
  const snap=await getDoc(doc(db,"users",user.uid));
  if(snap.exists()){
    const d=snap.data();
    if(d.isPremium && d.premiumActivatedAt){
      timerBox.style.display="block";
      startCountdown(d.premiumActivatedAt.toDate(), d.premiumDurationDays||30);
    }
  }
});

function startCountdown(start,days){
  const end=start.getTime()+days*86400000;
  setInterval(()=>{
    const diff=end-Date.now();
    if(diff<=0){timerText.textContent="Premium Expired";return;}
    const d=Math.floor(diff/86400000);
    const h=Math.floor(diff/3600000)%24;
    const m=Math.floor(diff/60000)%60;
    timerText.textContent=`${d} Days ${h} Hours ${m} Minutes Remaining`;
  },1000);
}

window.sendWhatsApp=()=>{
  const msg=encodeURIComponent(
`Hello Admin üëã

My name is ${userName}.
I have completed payment for Rakspark Academy Premium.
Please find my payment proof attached for confirmation.

Thank you.`
  );
  window.open(`https://wa.me/2349040009663?text=${msg}`,"_blank");
};

document.querySelectorAll(".copy").forEach(b=>{
  b.onclick=()=>{
    navigator.clipboard.writeText(b.dataset.text);
    Swal.fire("Copied","Details copied successfully","success");
  };
});
</script>

</body>
</html>